{"version":3,"file":"mbgl-japanese-prefs.js","sources":["../src/index.js"],"sourcesContent":["'use strict'\n\nconst prefs = require('./todofuken.json')\n\nclass JaPrefs {\n  constructor(options) {\n    if ('undefined' === typeof options) {\n      options = {}\n    }\n\n    this.options = Object.assign({\n        id: \"japanese-prefectures\",\n        minzoom: 0,\n        maxzoom: 9,\n        textFont: ['Noto Sans Regular'],\n        textSize: 14,\n      }, options\n    )\n\n    this.geojson = {\n      type: 'FeatureCollection',\n      features: []\n    };\n\n    for (let i = 0; i < prefs.length; i++) {\n      const props = Object.assign({\n        name: \"\",\n        en: \"\",\n        code: \"\",\n      }, prefs[i])\n\n      this.geojson.features.push({\n        type: 'Feature',\n        geometry: {\n          type: 'Point',\n          coordinates: [prefs[i].lng, prefs[i].lat]\n        },\n        properties: props\n      })\n    }\n  }\n\n  addTo(map) {\n    map.on('load', () => {\n      map.addSource(this.options.id, {\n        type: \"geojson\",\n        data: this.geojson,\n      })\n\n      map.addLayer({\n        \"id\": `${this.options.id}-label`,\n        \"type\": \"symbol\",\n        \"minzoom\": this.options.minzoom,\n        \"maxzoom\": this.options.maxzoom,\n        \"source\": this.options.id,\n        \"paint\": {\n          \"text-color\": \"#000000\",\n          \"text-halo-color\": \"rgba(255, 255, 255, 1)\",\n          \"text-halo-width\": 2,\n        },\n        \"layout\": {\n          \"text-field\": \"{en}\\n{name}\",\n          \"text-font\": this.options.textFont,\n          \"text-size\": this.options.textSize,\n          \"text-anchor\": \"top\",\n          \"text-max-width\": 10,\n          \"text-offset\": [0, 0],\n          \"text-allow-overlap\": false,\n        }\n      });\n    })\n  }\n}\n\nexport default JaPrefs\n"],"names":["const","prefs","require","JaPrefs","options","this","Object","assign","textFont","geojson","let","i","length","props","features","push","geometry","coordinates","lng","lat","addTo","map","on","addSource","id","data","addLayer","minzoom","maxzoom","source","paint","layout","text-font","text-size","textSize","text-offset"],"mappings":"AAEAA,IAAMC,EAAQC,QAAQ,oBAEhBC,EACJ,SAAYC,QACN,IAAuBA,UAI3BC,KAAKD,QAAUE,OAAOC,WACd,+BACK,UACA,EACTC,UAAW,8BACD,IACTJ,QAGAK,cACG,iCAIR,IAAKC,IAAIC,EAAI,EAAGA,EAAIV,EAAMW,OAAQD,IAAK,CACrCX,IAAMa,EAAQP,OAAOC,aACb,MACF,QACE,IACLN,EAAMU,SAEJF,QAAQK,SAASC,WACd,UACNC,eACQ,QACNC,aAAchB,EAAMU,GAAGO,IAAKjB,EAAMU,GAAGQ,iBAE3BN,kBAKlBO,eAAMC,cACJA,EAAIC,GAAG,oBACDC,UAAUlB,EAAKD,QAAQoB,SACnB,UACNC,KAAMpB,EAAKI,YAGTiB,aACOrB,EAAKD,yBACN,SACRuB,QAAWtB,EAAKD,QAAQuB,QACxBC,QAAWvB,EAAKD,QAAQwB,QACxBC,OAAUxB,EAAKD,QAAQoB,GACvBM,oBACgB,4BACK,2CACA,GAErBC,qBACgB,eACdC,YAAa3B,EAAKD,QAAQI,SAC1ByB,YAAa5B,EAAKD,QAAQ8B,uBACX,uBACG,GAClBC,eAAgB,EAAG,yBACG"}